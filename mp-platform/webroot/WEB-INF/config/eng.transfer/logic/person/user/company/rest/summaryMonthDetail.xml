<?xml version="1.0" encoding="UTF-8"?>
<CsvImport _uuid="3E9KoHCMM0nZEEvvdmTytA" name="logic.person.user.company.rest.summaryMonthDetail" label="假期-月报表详细CSV信息" is_valid="Y" head_lines="1">
  <Columns _uuid="YkAvxO9wTa8oP3gDDSOWuA" name="Columns" label="列集合" is_valid="Y">
    <Column _uuid="uUFJPxjEnyD3mXTA]BJulg" name="work_number" label="工号" is_valid="Y" data_name="work_number" is_require="Y" />
    <Column _uuid="YkGslotffx[vb9[pCGTZgg" name="user_label" label="姓名" is_valid="Y" data_name="USER_LABEL" is_require="Y" />
    <Column _uuid="]kx5GaAxOkt0koiFuPotuw" name="organization_label" label="部门名称" is_valid="Y" data_name="ORGANIZATION_LABEL" is_require="Y" />
    <Column _uuid="iExL3X4MAjVIVDeDBP8DvQ" name="type_label" label="类型名称" is_valid="Y" data_name="TYPE_LABEL" is_require="Y" />
    <Column _uuid="DkDSnpZZlakXPY0FW9tTpg" name="begin_date" label="开始时间" is_valid="Y" data_name="BEGIN_DATE" is_require="Y" />
    <Column _uuid="fESkMDTMdgUtV]w21E0fqg" name="end_date" label="结束时间" is_valid="Y" data_name="END_DATE" is_require="Y" />
    <Column _uuid="nUBpONbnihcOrMkWpfIShw" name="apply_ts_label" label="休假时长" is_valid="Y" data_name="APPLY_TS_LABEL" is_require="Y" />
    <Column _uuid="sU]tJ1YFsN39]ywfit2Iog" name="pass_date" label="通过时间" is_valid="Y" data_name="PASS_DATE" is_require="Y" />
  </Columns>
  <Export _uuid="w0]rjcmuRxnT[xq9H8dVmQ" name="sql" label="月报详细" is_valid="Y" sql="SELECT\n   WORK_NUMBER,\n   USER_LABEL,\n   ORGANIZATION_LABEL,\n   TYPE_LABEL,\n   TO_CHAR(CP_DATE.Calculate_Max_Date(BEGIN_DATE, CM_CALENDAR_DI.Get_Work_Time_Begin_Date(CALENDAR_ID, CP_DATE.Parse('${BEGIN_DATE}'))), 'YYYY-MM-DD HH24:MI') BEGIN_DATE,\n   TO_CHAR(CP_DATE.Calculate_Min_Date(END_DATE, CM_CALENDAR_DI.Get_Work_Time_End_Date(CALENDAR_ID, CP_DATE.Parse('${END_DATE}'))), 'YYYY-MM-DD HH24:MI') END_DATE,\n   CP_TIME_SPAN.Format_Hour_By_Calendar(APPLY_TS, '9990.0', CALENDAR_ID) APPLY_TS_LABEL,\n   TO_CHAR(PASS_DATE, 'YYYY-MM-DD HH24:MI') PASS_DATE\nFROM (\n   SELECT\n      USER_ID,\n      PM_USER_COMPANY_DI.Get_Fit_Calendar(USER_ID) CALENDAR_ID,\n      PM_USER_COMPANY_DI.Get_Work_Number_By_User_Id(USER_ID) WORK_NUMBER,\n      PM_USER_DI.Get_Full_Label(USER_ID) USER_LABEL,\n      PM_ORGANIZATION_DI.Find_Main_Organization(USER_ID) ORGANIZATION_ID,\n      PM_ORGANIZATION_DI.Find_Main_Organization_Label(USER_ID) ORGANIZATION_LABEL,\n      PM_USER_COMPANY_REST_TYPE_DI.Get_Label(TYPE_ID) TYPE_LABEL,\n      BEGIN_DATE,\n      END_DATE,\n      PM_USER_COMPANY_REST_DI.Calculate_Rest_Length(OUID, CP_DATE.Parse('${BEGIN_DATE}'), CP_DATE.Parse('${END_DATE}')) APPLY_TS,\n      PASS_DATE\n   FROM PM_USER_COMPANY_REST\n   WHERE STATUS_CD = 'P'\n      AND CP_DATE.Just_Range_In_Range(BEGIN_DATE, END_DATE, CP_DATE.Parse('${BEGIN_DATE}'), CP_DATE.Parse('${END_DATE}')) = 'Y')\nORDER BY WORK_NUMBER" display_command="N" display_command_tag="N" display_head="N" display_head_tag="N" display_label="Y" display_label_tag="N" display_valid="N" display_valid_tag="N" is_open="N" export_name="eUIS-假期管理-详细[${SETTLEMENT_BEGIN_DATE}-${SETTLEMENT_END_DATE}]" disp_data_start_tag="N" disp_data_end_tag="N" dataset_parameters="SELECT\n   TO_CHAR(CP_DATE.Parse('${BEGIN_DATE}'), 'YYYYMMDD') SETTLEMENT_BEGIN_DATE,\n   TO_CHAR(CP_DATE.Parse('${END_DATE}'), 'YYYYMMDD') SETTLEMENT_END_DATE\nFROM DUAL" />
</CsvImport>

