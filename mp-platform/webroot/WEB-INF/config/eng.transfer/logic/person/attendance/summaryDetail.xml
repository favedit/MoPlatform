<?xml version="1.0" encoding="UTF-8"?>
<CsvImport _uuid="SUpSAOt7PC1F3iptDl6jhw" name="logic.person.attendance.summaryDetail" label="考勤-月明细报表CSV信息" is_valid="Y">
  <Columns _uuid="rUufB]JNV13bUyKEyaPdnA" name="Columns" label="列集合" is_valid="Y">
    <Column _uuid="jkOlNlca85PqwJ9fj1hEkg" name="work_number" label="工号" is_valid="Y" data_name="WORK_NUMBER" />
    <Column _uuid="KE4mww6BJTug]76tKa]npA" name="user_label" label="姓名" is_valid="Y" data_name="USER_LABEL" />
    <Column _uuid="wkb]EPA[XYPW15AI8FFLjA" name="organization_label" label="组织" is_valid="Y" data_name="ORGANIZATION_LABEL" />
    <Column _uuid="Nk]jPw0dNptIvtOZHpYSiQ" name="record_date" label="日期" is_valid="Y" data_name="RECORD_DATE" />
    <Column _uuid="MEAqyZhqkywZ1JLhyCsIjA" name="status_label" label="审核状态" is_valid="Y" data_name="STATUS_LABEL" />
    <Column _uuid="TkIHm1vwOyj2EKnulZNctA" name="status" label="考勤状态" is_valid="Y" data_name="STATUS" />
    <Column _uuid="jEsBWpwh9QRMJ3yCyRvrvQ" name="day_label" label="星期" is_valid="Y" data_name="DAY_LABEL" />
    <Column _uuid="NkLqb5YkGXUhIcZ4Wn9Alg" name="day_label" label="星期" is_valid="Y" data_name="DAY_LABEL" />
    <Column _uuid="3E4X57oiY117IA0Oj04[nA" name="work_label" label="班值时间" is_valid="Y" data_name="WORK_LABEL" />
    <Column _uuid="HkBPub2Lsi4mZ]nSNGFztw" name="work_ts" label="班值时长" is_valid="Y" data_name="WORK_TS" />
    <Column _uuid="rEQSAoWy0[n5CiYCunG7gw" name="sign_label" label="考勤时间" is_valid="Y" data_name="SIGN_LABEL" />
    <Column _uuid="pEQr6T7yGxOQmWx6Li[uiA" name="sign_ts" label="考勤时长" is_valid="Y" data_name="SIGN_TS" />
    <Column _uuid="jEvtYjGUMR1WM6izwEcYmQ" name="absent_note" label="旷工" is_valid="Y" data_name="ABSENT_NOTE" />
    <Column _uuid="bU19ABDv7KwWfSLYCCNehg" name="description" label="迟到早退" is_valid="Y" data_name="DESCRIPTION" />
    <Column _uuid="AEzPH99vWcZS[QdBVii3nA" name="casual_note" label="事假" is_valid="Y" data_name="CASUAL_NOTE" />
    <Column _uuid="2EJtoHU5[WdB1mK[jAC6mw" name="sick_note" label="病假" is_valid="Y" data_name="SICK_NOTE" />
    <Column _uuid="ZkOnuU9YsDDBluM4mabzgg" name="vacation_note" label="年假" is_valid="Y" data_name="VACATION_NOTE" />
    <Column _uuid="1UFEArnLNAD28h6Bdl5znQ" name="marriage_note" label="婚假" is_valid="Y" data_name="MARRIAGE_NOTE" />
    <Column _uuid="M0KPAUaEuAy4j3TQRP33vA" name="mourning_note" label="丧假" is_valid="Y" data_name="MOURNING_NOTE" />
    <Column _uuid="xUVCCMslJf92yp1VD37yng" name="maternity_note" label="产假" is_valid="Y" data_name="MATERNITY_NOTE" />
  </Columns>
  <Export _uuid="V0[OzVNBJz8xtT5sE44Wug" name="sql" label="考勤-月明细报表" is_valid="Y" sql="SELECT USER_ID,\n       WORK_NUMBER,\n       USER_LABEL,\n       ORGANIZATION_LABEL,\n       RECORD_DATE,\n       STATUS_LABEL,\n       DAY_LABEL,\n       WORK_LABEL,\n       WORK_TS,\n       SIGN_LABEL,\n       SIGN_TS,\n       PM_ATTENDANCE_SIMPLE_STS_EI.Decode_Label(STATUS) STATUS,\n       ABSENT_NOTE,\n       DESCRIPTION,\n       CASUAL_NOTE,\n       SICK_NOTE,\n       VACATION_NOTE,\n       MARRIAGE_NOTE,\n       MOURNING_NOTE,\n       MATERNITY_NOTE\n  FROM (\n     SELECT \n        USER_ID,\n        PM_USER_COMPANY_DI.Get_Work_Number_By_User_Id(USER_ID) WORK_NUMBER,\n        PM_USER_DI.Get_Full_Label(USER_ID) USER_LABEL,\n        PM_ORGANIZATION_DI.Find_Main_Organization_Label(USER_ID) ORGANIZATION_LABEL,\n        TO_CHAR(RECORD_DATE, 'YYYY-MM-DD') RECORD_DATE,\n        PM_ATTENDANCE_SUMMARY_DI.Get_Status_Label(OUID) STATUS_LABEL,\n        CM_CALENDAR_DI.Get_Workday_Detail(CALENDAR_ID, RECORD_DATE, 'F') DAY_LABEL,\n        CP_DATE.Format_Time_Range(WORK_BEGIN_DATE, WORK_END_DATE, 'HH24:MI') WORK_LABEL,\n        CP_TIME_SPAN.Format_Label_By_Calendar(NVL(WORK_TS, 0),'THHMI') WORK_TS,\n        CP_DATE.Format_Time_Range(SIGN_BEGIN_DATE, SIGN_END_DATE,  'HH24:MI') SIGN_LABEL,\n        CP_TIME_SPAN.Format_Label_By_Calendar(NVL(SIGN_TS, 0),  'THHMI') SIGN_TS,\n        PM_ATTENDANCE_SUMMARY_DI.Get_Simple_Status(STATUS_CD, SIGN_STATUS_CD) STATUS,\n        CP_TIME_SPAN.Format_Label_By_Calendar(ABSENT_TS, 'THHMI') ABSENT_NOTE,\n        PM_ATTENDANCE_SUMMARY_DI.Get_Status_Description(LATE_TS, EARLIER_TS) DESCRIPTION,\n        PM_ATTENDANCE_SUMMARY_DI.Get_Rest_Casual_Note(USER_ID, RECORD_DATE) CASUAL_NOTE,\n        PM_ATTENDANCE_SUMMARY_DI.Get_Rest_Sick_Note(USER_ID, RECORD_DATE) SICK_NOTE,\n        PM_ATTENDANCE_SUMMARY_DI.Get_Rest_Vacation_Note(USER_ID, RECORD_DATE) VACATION_NOTE,\n        PM_ATTENDANCE_SUMMARY_DI.Get_Rest_Marriage_Note(USER_ID, RECORD_DATE) MARRIAGE_NOTE,\n        PM_ATTENDANCE_SUMMARY_DI.Get_Rest_Mourning_Note(USER_ID, RECORD_DATE) MOURNING_NOTE,\n        PM_ATTENDANCE_SUMMARY_DI.Get_Rest_Maternity_Note(USER_ID, RECORD_DATE) MATERNITY_NOTE\n    FROM PM_ATTENDANCE_SUMMARY\n    WHERE IS_VALID = 'Y'\n       AND RECORD_DATE &gt;= NVL(CP_DATE.Parse('${BEGIN_DATE}'), RECORD_DATE)\n       AND RECORD_DATE &lt;= NVL(CP_DATE.Parse('${END_DATE}'), RECORD_DATE)\n       AND PM_USER_COMPANY_DI.Is_Valid_Staff_In_Date(USER_ID, CP_DATE.Parse('${BEGIN_DATE}')) = 'Y'\n    ORDER BY WORK_NUMBER,RECORD_DATE)" display_command="N" display_command_tag="N" display_head="N" display_head_tag="N" display_label="Y" display_label_tag="N" display_valid="N" display_valid_tag="N" is_open="N" export_name="eUIS-考勤管理-月明细报[${SETTLEMENT_BEGIN_DATE}-${SETTLEMENT_END_DATE}]" export_charset="GB18030" disp_data_start_tag="N" disp_data_end_tag="N" dataset_parameters="SELECT\n   TO_CHAR(CP_DATE.Parse('${BEGIN_DATE}'), 'YYYYMMDD') SETTLEMENT_BEGIN_DATE,\n   TO_CHAR(CP_DATE.Parse('${END_DATE}'), 'YYYYMMDD') SETTLEMENT_END_DATE\nFROM DUAL" />
</CsvImport>

